# 1. Результаты на 2023-09-29

## 1.1. Вычислительные ресурсы

Использовались виртуальные машины в Yandex Cloud в следующей конфигурации:

* 1 x узел хранения, избыточность выключена
    * 32 x vCPU (требуется для подключения 10-ти дисков, утилизация менее 40%)
    * 32 Гбайт оперативной памяти
    * 1 x 50 Гбайт загрузочный диск network-ssd
    * 9 x 186 Гбайт диски для данных network-ssd-nonreplicated
    * включена опция "Программно ускоренная сеть"
* 9 x вычислительные узлы
    * 16 x vCPU (обязательно одна NUMA-нода)
    * 32 Гбайт оперативной памяти
    * 1 x 50 Гбайт загрузочный диск network-ssd
    * включена опция "Программно ускоренная сеть"
* 3 x узлы для подачи нагрузки
    * 8 x vCPU
    * 16 Гбайт оперативной памяти
    * 1 x 50 Гбайт загрузочный диск network-ssd
    * включена опция "Программно ускоренная сеть"

## 1.2. Программная конфигурация

Операционная система: ubuntu-22-04-lts-v20230925

На узел хранения и вычислительные узлы установлена YDB в сборке ясубд.рф версии 23.2.12.3, [ссылка на дистрибутив](https://ясубд.рф/binaries/release/23.2.12.3/yasubd-23.2.12.3-linux-amd64.tar.gz).

Использовалась конфигурация без аутентификации и TLS (важно: блокировать доступ из внешних сетей к незащищённой инсталляции).

Настроечные файлы кластера YDB: [статического узла](./yc-config/ydbconf/storage.yaml), [динамических узлов](./yc-config/ydbconf/dynamic.yaml).

На узлы для подачи нагрузки установлены пакеты: `screen` и `openjdk-17-jdk`, а также Apache JMeter версии 5.6.2, [ссылка на дистрибутив](https://dlcdn.apache.org//jmeter/binaries/apache-jmeter-5.6.2.tgz).

Скомпилированная программа apirx_test была установлена на узлы подачи нагрузки, и доступна в [разделе релизов репозитория](https://github.com/zinal/apirx-demo/releases/tag/v2023-09-29).

## 1.3. Генерация данных

Для генерации данных использовалась программа apirx_test и [сценарий генерации для JMeter](./run-generate.jmx). Программа и сценарий должны быть установлены на одном хосте.

